<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.7"/>
<title>My Project: combined-stream [![Build Status](https://travis-ci.org/felixge/node-combined-stream.svg?branch=master)](https://travis-ci.org/felixge/node-combined-stream)</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.7 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">combined-stream [![Build Status](<a href="https://travis-ci.org/felixge/node-combined-stream.svg?branch=master">https://travis-ci.org/felixge/node-combined-stream.svg?branch=master</a>)](<a href="https://travis-ci.org/felixge/node-combined-stream">https://travis-ci.org/felixge/node-combined-stream</a>) </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A stream that emits multiple other streams one after another.</p>
<h2>Installation</h2>
<p>``` bash npm install combined-stream ```</p>
<h2>Usage</h2>
<p>Here is a simple example that shows how you can use combined-stream to combine two files into one:</p>
<p>``` javascript var CombinedStream = require('combined-stream'); var fs = require('fs');</p>
<p>var combinedStream = CombinedStream.create(); combinedStream.append(fs.createReadStream('file1.txt')); combinedStream.append(fs.createReadStream('file2.txt'));</p>
<p>combinedStream.pipe(fs.createWriteStream('combined.txt')); ```</p>
<p>While the example above works great, it will pause all source streams until they are needed. If you don't want that to happen, you can set <code>pauseStreams</code> to <code>false</code>:</p>
<p>``` javascript var CombinedStream = require('combined-stream'); var fs = require('fs');</p>
<p>var combinedStream = CombinedStream.create({pauseStreams: false}); combinedStream.append(fs.createReadStream('file1.txt')); combinedStream.append(fs.createReadStream('file2.txt'));</p>
<p>combinedStream.pipe(fs.createWriteStream('combined.txt')); ```</p>
<p>However, what if you don't have all the source streams yet, or you don't want to allocate the resources (file descriptors, memory, etc.) for them right away? Well, in that case you can simply provide a callback that supplies the stream by calling a <code>next()</code> function:</p>
<p>``` javascript var CombinedStream = require('combined-stream'); var fs = require('fs');</p>
<p>var combinedStream = CombinedStream.create(); combinedStream.append(function(next) { next(fs.createReadStream('file1.txt')); }); combinedStream.append(function(next) { next(fs.createReadStream('file2.txt')); });</p>
<p>combinedStream.pipe(fs.createWriteStream('combined.txt')); ```</p>
<h2>API</h2>
<h3>CombinedStream.create([options])</h3>
<p>Returns a new combined stream object. Available options are:</p>
<ul>
<li><code>maxDataSize</code></li>
<li><code>pauseStreams</code></li>
</ul>
<p>The effect of those options is described below.</p>
<h3>combinedStream.pauseStreams = <code>true</code></h3>
<p>Whether to apply back pressure to the underlaying streams. If set to <code>false</code>, the underlaying streams will never be paused. If set to <code>true</code>, the underlaying streams will be paused right after being appended, as well as when <code>delayedStream.pipe()</code> wants to throttle.</p>
<h3>combinedStream.maxDataSize = <code>2 * 1024 * 1024</code></h3>
<p>The maximum amount of bytes (or characters) to buffer for all source streams. If this value is exceeded, <code>combinedStream</code> emits an <code>'error'</code> event.</p>
<h3>combinedStream.dataSize = <code>0</code></h3>
<p>The amount of bytes (or characters) currently buffered by <code>combinedStream</code>.</p>
<h3>combinedStream.append(stream)</h3>
<p>Appends the given <code>stream</code> to the combinedStream object. If <code>pauseStreams</code> is set to `true, this stream will also be paused right away.</p>
<p><code>streams</code> can also be a function that takes one parameter called <code>next</code>. <code>next</code> is a function that must be invoked in order to provide the <code>next</code> stream, see example above.</p>
<p>Regardless of how the <code>stream</code> is appended, combined-stream always attaches an <code>'error'</code> listener to it, so you don't have to do that manually.</p>
<p>Special case: <code>stream</code> can also be a String or Buffer.</p>
<h3>combinedStream.write(data)</h3>
<p>You should not call this, <code>combinedStream</code> takes care of piping the appended streams into itself for you.</p>
<h3>combinedStream.resume()</h3>
<p>Causes <code>combinedStream</code> to start drain the streams it manages. The function is idempotent, and also emits a <code>'resume'</code> event each time which usually goes to the stream that is currently being drained.</p>
<h3>combinedStream.pause();</h3>
<p>If <code>combinedStream.pauseStreams</code> is set to <code>false</code>, this does nothing. Otherwise a <code>'pause'</code> event is emitted, this goes to the stream that is currently being drained, so you can use it to apply back pressure.</p>
<h3>combinedStream.end();</h3>
<p>Sets <code>combinedStream.writable</code> to false, emits an <code>'end'</code> event, and removes all streams from the queue.</p>
<h3>combinedStream.destroy();</h3>
<p>Same as <code>combinedStream.end()</code>, except it emits a <code>'close'</code> event instead of <code>'end'</code>.</p>
<h2>License</h2>
<p>combined-stream is licensed under the MIT license. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 29 2015 21:00:59 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
